<table mat-table class="mat-elevation-z8 todo-table" [dataSource]="todos">
    <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Id </th>
        <td mat-cell *matCellDef="let todo"> {{todo.id}} </td>
    </ng-container>
    <ng-container matColumnDef="summary">
        <th mat-header-cell *matHeaderCellDef> Summary </th>
        <td mat-cell *matCellDef="let todo"> {{todo.summary}} </td>
    </ng-container>
    <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef> Priority </th>
        <td mat-cell *matCellDef="let todo"> {{todo.priority}} </td>
    </ng-container>
    <ng-container matColumnDef="isCompleted">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let todo"> {{handleTodoStatus(todo.isCompleted, todo.dueDate)}} </td>
    </ng-container>
    <ng-container matColumnDef="dueDate">
        <th mat-header-cell *matHeaderCellDef> Due Date </th>
        <td mat-cell *matCellDef="let todo"> {{todo.dueDate | date: 'longDate'}} </td>
    </ng-container>
    <ng-container matColumnDef="completedDate">
        <th mat-header-cell *matHeaderCellDef> Completed Date </th>
        <td mat-cell *matCellDef="let todo"> {{todo.completedDate | date: 'longDate'}} </td>
    </ng-container>
    <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let todo">
            <button *ngIf="!todo.isCompleted" mat-raised-button color="primary">Edit</button>
            <button *ngIf="!todo.isCompleted; else restore" mat-raised-button (click)="markTodoAsComplete(todo)" color="warn">Finish</button>
            <ng-template #restore>
                <button mat-raised-button (click)="markTodoAsComplete(todo)" color="accent">Restore</button>
            </ng-template>
        </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay" [deadlineHightLight]="row.dueDate"
        [isFinish]="row.isCompleted" [matTooltip]="row.description" matTooltipPosition="below"></tr>
</table>